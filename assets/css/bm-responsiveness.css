{{ $averageCharWidth := (default 0.7 (index .Site.Params "averageCharWidth" )) }}
{{ $fullH1Size       := (default 1.8 (index .Site.Params "fullH1Size" )) }}
{{ $smallerH1Size    := (default 1.5 (index .Site.Params "smallerH1Size" )) }}

{{ $menuWidth        := (default 24  (index .Site.Params "menuWidth" )) }}
{{ $menuCompactWidth := (default 8   (index .Site.Params "menuCompactWidth" )) }}

{{ $extraMargin      := (default 3   (index .Site.Params "extraMargin" )) }}
{{ $smallExtraMargin := (default 1   (index .Site.Params "smallExtraMargin" )) }}

{{ $titleWidth        := (mul (mul (len .Site.Title) $fullH1Size) $averageCharWidth) }}
{{ $smallerTitleWidth := (mul (mul (len .Site.Title) $smallerH1Size) $averageCharWidth) }}
{{ $smallTitleWidth   := (mul (len .Site.Title) $averageCharWidth) }}

{{ $limitCompactMenu       := (add (add $titleWidth $extraMargin) $menuWidth) }}

{{ $limitHamburgerMenu     := (add (add $titleWidth $extraMargin) $menuCompactWidth) }}
{{ $limitNarrowLayout      := (add $smallerTitleWidth $smallExtraMargin) }}
{{ $limitVeryNarrowLayout  := (add $smallTitleWidth   $smallExtraMargin) }}

{{ $limitCompactLayout     := 30 }}

/* Calculated parameters & limit values:
 *
 * $averageCharWidth       : {{ $averageCharWidth       }} em
 * $fullH1Size             : {{ $fullH1Size             }} (factor)
 * $smallerH1Size          : {{ $smallerH1Size          }} (factor)
 *
 * $menuWidth              : {{ $menuWidth              }} em
 * $menuCompactWidth       : {{ $menuCompactWidth       }} em
 *
 * $extraMargin            : {{ $extraMargin            }} em
 * $smallExtraMargin       : {{ $smallExtraMargin       }} em
 *
 * $Limitcompactmenu       : {{ $limitCompactMenu       }} em
 * $limitHamburgerMenu     : {{ $limitHamburgerMenu     }} em
 * $limitCompactLayout     : {{ $limitCompactLayout     }} em
 * $limitNarrowLayout      : {{ $limitNarrowLayout      }} em
 * $limitVeryNarrowLayout  : {{ $limitVeryNarrowLayout  }} em
 */

@import url(bm-responsiveness-compact-menu.css)
  (max-width:{{ with .Site.Params.limitCompactMenu }}{{.}}{{else}}{{ $limitCompactMenu}}{{end}}em);
@import url(bm-responsiveness-hamburger.css)
  (max-width:{{ with .Site.Params.limitHamburgerMenu }}{{.}}{{else}}{{ $limitHamburgerMenu}}{{end}}em);

/* switch to hamburger menu as soon as compact layout gets active! */

@import url(bm-responsiveness-hamburger.css)
  (max-width:{{ with .Site.Params.limitCompactLayout }}{{.}}{{else}}{{ $limitCompactLayout}}{{end}}em);
@import url(bm-responsiveness-compact-layout.css)
  (max-width:{{ with .Site.Params.limitCompactLayout }}{{.}}{{else}}{{ $limitCompactLayout}}{{end}}em);

@import url(bm-responsiveness-narrow.css)
  (max-width:{{ with .Site.Params.limitNarrowLayout }}{{.}}{{else}}{{ $limitNarrowLayout}}{{end}}em);
@import url(bm-responsiveness-very-narrow.css)
  (max-width:{{ with .Site.Params.limitVeryNarrowLayout }}{{.}}{{else}}{{ $limitVeryNarrowLayout}}{{end}}em);
